<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KM & EZ ROPA - Catálogo</title>

  <!-- ✅ SEO -->
  <meta name="description" content="Tienda de ropa para toda la familia. Encuentra moda para hombre, mujer, niños y bebés a precios accesibles." />
  <meta name="keywords" content="ropa, moda, tienda de ropa, catálogo, hombre, mujer, niño, niña, bebé, ofertas, vestimenta" />
  <meta name="author" content="KM & EZ ROPA" />
  <meta name="robots" content="index, follow" />

  <!-- 🌐 Open Graph -->
  <meta property="og:title" content="KM & EZ ROPA - Tienda de Moda para la Familia" />
  <meta property="og:description" content="Explora nuestra tienda en línea con prendas para todas las edades. Calidad, estilo y buenos precios." />
  <meta property="og:image" content="https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg" />
  <meta property="og:url" content="https://km-ez-ropa-frontend.onrender.com/index.html" />
  <meta property="og:type" content="website" />

  <!-- 🐦 Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="KM & EZ ROPA - Catálogo" />
  <meta name="twitter:description" content="Moda para toda la familia con excelente calidad y precio. Visítanos online." />
  <meta name="twitter:image" content="https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg" />

  <!-- 🖼️ Favicon -->
  <link rel="icon" href="https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg" type="image/jpeg" />

  <!-- ✅ Estilos -->
  <link rel="stylesheet" href="/css/global.css" />
  <link rel="stylesheet" href="/css/catalogo.css" />
  <link rel="stylesheet" href="/css/componentes.css" />
  <link rel="stylesheet" href="/css/responsive.css" />
  <link rel="stylesheet" href="/css/fondo.css" />

  <!-- 📊 Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LPEBT3EKGE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-LPEBT3EKGE');
  </script>
</head>
<body>

  <!-- 🔝 Encabezado -->
  <header class="header fade-in" role="banner">
    <div class="logo">
      <img src="/assets/logo.jpg" alt="Logo de KM & EZ ROPA" class="logo-img" onerror="this.src='https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg'" />
      <h1>KM & EZ ROPA</h1>
    </div>
    <p class="subtitulo">Moda para toda la familia | Calidad y precio</p>
    <div class="top-buttons">
      <button type="button" class="btn" id="modoToggle" aria-label="Cambiar a modo oscuro o claro">🌙 Modo Oscuro</button>
      <a href="login.html" class="btn" title="Ingresar como administrador">🔐 Iniciar sesión</a>
    </div>
  </header>

  <!-- 🎁 Promoción activa -->
  <section id="promoBanner" class="promo-banner oculto fade-in" aria-live="polite" role="region">
    <p id="promoTexto"></p>
  </section>

  <!-- 🎯 Filtros -->
  <section class="filtros-container fade-in" aria-label="Filtros de búsqueda de productos">
    <label for="categoria" class="visually-hidden">Filtrar por categoría</label>
    <select id="categoria" aria-label="Filtrar por categoría">
      <option value="todas">Categoría: Todas</option>
    </select>

    <label for="subcategoria" class="visually-hidden">Filtrar por subcategoría</label>
    <select id="subcategoria" aria-label="Filtrar por subcategoría">
      <option value="todas">Subcategoría: Todas</option>
    </select>

    <label for="orden" class="visually-hidden">Ordenar productos</label>
    <select id="orden" aria-label="Ordenar productos">
      <option value="reciente">Más recientes</option>
      <option value="precioAsc">Precio ↑</option>
      <option value="precioDesc">Precio ↓</option>
      <option value="destacados">Destacados ⭐</option>
    </select>

    <input type="text" id="busqueda" placeholder="🔍 Buscar productos..." class="busqueda-input" aria-label="Buscar productos por nombre" />
  </section>

  <!-- 🛍️ Catálogo principal -->
  <main class="catalogo-container fade-in" role="main">
    <h2 class="text-center">Catálogo de Productos</h2>
    <div id="catalogo" class="catalogo-grid" role="list"></div>
    <div id="mensajeCatalogo" class="mensaje-error oculto" role="alert"></div>
  </main>

  <!-- 🛒 Carrito flotante -->
  <div id="cart-widget" class="fade-in" aria-label="Acceso rápido al carrito">
    <a href="carrito.html" aria-label="Ver carrito de compras">
      <img src="/assets/cart-icon.svg" alt="Ícono del carrito" width="48" height="48" />
      <span id="cart-widget-count">0</span>
    </a>
  </div>

  <!-- 🧾 Modal carrito -->
  <div id="carritoModal" class="modal fade-in" role="dialog" aria-modal="true" aria-labelledby="tituloCarrito">
    <div class="modal-contenido">
      <span class="cerrar" id="cerrarCarrito" role="button" aria-label="Cerrar carrito">&times;</span>
      <h3 id="tituloCarrito">🛍️ Tu Carrito</h3>
      <ul id="listaCarrito"></ul>
      <button type="button" id="enviarWhatsApp" class="btn" aria-label="Enviar pedido por WhatsApp">📲 Enviar a WhatsApp</button>
    </div>
  </div>

  <!-- 📞 Botón flotante de WhatsApp -->
  <a href="https://wa.me/593990270864" class="whatsapp-float fade-in" target="_blank" rel="noopener noreferrer" aria-label="Contactar por WhatsApp">
    <img src="/assets/whatsapp.svg" alt="Icono de WhatsApp" width="48" height="48" />
  </a>

  <!-- 👣 Pie de página -->
  <footer class="footer fade-in" role="contentinfo">
    <p>© 2025 KM & EZ ROPA - Todos los derechos reservados</p>
  </footer>

  <!-- ✅ Scripts -->
  <script src="/js/cart.js" defer></script>
  <script src="/js/script.js" defer></script>

  <!-- 🌗 Modo Oscuro persistente -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const btnToggle = document.getElementById("modoToggle");
      const body = document.body;

      const activar = localStorage.getItem("modoOscuro") === "true";
      if (activar) {
        body.classList.add("modo-oscuro");
        btnToggle.textContent = "☀️ Modo Claro";
      }

      btnToggle?.addEventListener("click", () => {
        body.classList.toggle("modo-oscuro");
        const activo = body.classList.contains("modo-oscuro");
        localStorage.setItem("modoOscuro", activo);
        btnToggle.textContent = activo ? "☀️ Modo Claro" : "🌙 Modo Oscuro";
      });
    });
  </script>
</body>
</html>
