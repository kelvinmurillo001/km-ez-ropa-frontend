<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KM & EZ ROPA - Cat√°logo</title>

  <!-- ‚úÖ SEO -->
  <meta name="description" content="Tienda de ropa para toda la familia. Encuentra moda para hombre, mujer, ni√±os y beb√©s a precios accesibles." />
  <meta name="keywords" content="ropa, moda, tienda de ropa, cat√°logo, hombre, mujer, ni√±o, ni√±a, beb√©, ofertas" />
  <meta name="author" content="KM & EZ ROPA" />
  <meta name="robots" content="index, follow" />

  <!-- üåê Open Graph -->
  <meta property="og:title" content="KM & EZ ROPA - Tienda de Moda para la Familia" />
  <meta property="og:description" content="Explora nuestra tienda en l√≠nea con prendas para todas las edades. Calidad, estilo y buenos precios." />
  <meta property="og:image" content="https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg" />
  <meta property="og:url" content="https://km-ez-ropa-frontend.onrender.com/index.html" />
  <meta property="og:type" content="website" />

  <!-- üê¶ Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="KM & EZ ROPA - Cat√°logo" />
  <meta name="twitter:description" content="Moda para toda la familia con excelente calidad y precio. Vis√≠tanos online." />
  <meta name="twitter:image" content="https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg" />

  <!-- üñºÔ∏è Favicon -->
  <link rel="icon" href="https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg" type="image/jpeg" />

  <!-- ‚úÖ Estilos -->
  <link rel="stylesheet" href="/css/global.css" />
  <link rel="stylesheet" href="/css/catalogo.css" />
  <link rel="stylesheet" href="/css/componentes.css" />
  <link rel="stylesheet" href="/css/responsive.css" />
  <link rel="stylesheet" href="/css/fondo.css" />

  <!-- üìä Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LPEBT3EKGE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-LPEBT3EKGE');
  </script>
</head>
<body>

  <!-- üîù ENCABEZADO -->
  <header class="header fade-in" role="banner">
    <div class="logo">
      <img src="/assets/logo.jpg" alt="Logo KM & EZ ROPA" width="64" height="64" onerror="this.src='https://res.cloudinary.com/dmbnkrhek/image/upload/v1711234567/logo.jpg'" />
      <h1>KM & EZ ROPA</h1>
    </div>
    <p class="subtitulo">Moda para toda la familia | Calidad y precio</p>
    <div class="top-buttons">
      <button type="button" class="btn btn-toggle-modo" id="modoToggle" aria-label="Cambiar modo de visualizaci√≥n">
        <span aria-hidden="true">üåô</span> <span class="texto-modo">Modo Oscuro</span>
      </button>
      <a href="login.html" class="btn" title="Ingresar como administrador">üîê Iniciar sesi√≥n</a>
    </div>
  </header>

  <!-- üéÅ PROMOCI√ìN ACTIVA -->
  <section id="promoBanner" class="promo-banner oculto fade-in" aria-live="polite" role="region">
    <p id="promoTexto"><!-- contenido din√°mico --></p>
  </section>

  <!-- üéØ FILTROS -->
  <section class="filtros-container fade-in" aria-label="Filtros del cat√°logo">
    <select id="categoria" name="categoria" autocomplete="off" aria-label="Categor√≠a">
      <option value="todas">Categor√≠a: Todas</option>
    </select>
    <select id="subcategoria" name="subcategoria" autocomplete="off" aria-label="Subcategor√≠a">
      <option value="todas">Subcategor√≠a: Todas</option>
    </select>
    <select id="orden" name="orden" autocomplete="off" aria-label="Ordenar por">
      <option value="reciente">M√°s recientes</option>
      <option value="precioAsc">Precio ‚Üë</option>
      <option value="precioDesc">Precio ‚Üì</option>
      <option value="destacados">Destacados ‚≠ê</option>
    </select>
    <input type="search" id="busqueda" placeholder="üîç Buscar productos..." aria-label="Buscar productos" class="busqueda-input" />
  </section>

  <!-- üõçÔ∏è CAT√ÅLOGO -->
  <main class="catalogo-container fade-in" role="main">
    <h2 class="text-center">Cat√°logo de Productos</h2>
    <div id="catalogo" class="catalogo-grid" role="list"></div>
    <div id="mensajeCatalogo" class="mensaje-error oculto" role="alert"></div>
  </main>

  <!-- üßæ MODAL CARRITO -->
  <div id="carritoModal" class="modal fade-in" role="dialog" aria-modal="true" aria-labelledby="tituloCarrito">
    <div class="modal-contenido">
      <button class="cerrar" id="cerrarCarrito" aria-label="Cerrar carrito">&times;</button>
      <h3 id="tituloCarrito">üõçÔ∏è Tu Carrito</h3>
      <ul id="listaCarrito"></ul>
      <button type="button" id="enviarWhatsApp" class="btn">üì≤ Enviar a WhatsApp</button>
    </div>
  </div>

  <!-- üìû BOT√ìN WHATSAPP FLOTANTE -->
  <aside>
    <a href="https://wa.me/593990270864" class="whatsapp-float fade-in" target="_blank" rel="noopener noreferrer" aria-label="Contactar por WhatsApp">
      <img src="/assets/whatsapp.svg" alt="Icono WhatsApp" width="48" height="48" />
    </a>
  </aside>

  <!-- üë£ PIE DE P√ÅGINA -->
  <footer class="footer fade-in" role="contentinfo">
    <p>¬© 2025 KM & EZ ROPA - Todos los derechos reservados</p>
  </footer>

  <!-- ‚úÖ SCRIPTS -->
  <script src="/js/cart.js" defer></script>
  <script src="/js/script.js" defer></script>

  <!-- üåó MODO OSCURO -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const btnToggle = document.getElementById("modoToggle");
      const spanTexto = btnToggle.querySelector(".texto-modo");
      const body = document.body;
      const oscuro = localStorage.getItem("modoOscuro") === "true";

      if (oscuro) {
        body.classList.add("modo-oscuro");
        spanTexto.textContent = "Modo Claro";
      }

      btnToggle?.addEventListener("click", () => {
        body.classList.toggle("modo-oscuro");
        const activo = body.classList.contains("modo-oscuro");
        localStorage.setItem("modoOscuro", activo);
        spanTexto.textContent = activo ? "Modo Claro" : "Modo Oscuro";
      });
    });
  </script>

  <!-- üõí CARRITO WIDGET -->
  <div id="carrito-widget-container"></div>
  <script>
    fetch("carrito-widget.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("carrito-widget-container").innerHTML = html;
      })
      .catch(() => console.warn("‚ö†Ô∏è No se pudo cargar el widget del carrito."));
  </script>

</body>
</html>
